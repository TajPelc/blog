<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BRNO BUNKER Terminal: Taj Pelc</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            font-family: 'VT323', 'Courier', monospace;
            background-color: #000;
            color: #ffff00;
        }
        #terminal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 20px;
            box-sizing: border-box;
            overflow-y: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        #content {
            max-width: 800px;
            margin: 0 auto;
        }
        #cursor {
            animation: blink 1s infinite;
        }
        @keyframes blink {
            0% { opacity: 0; }
            50% { opacity: 1; }
            100% { opacity: 0; }
        }
        #game-container {
            margin-top: 5px;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }
        #game-canvas {
            display: block;
            border: 1px solid #ffff00;
        }
        #crt-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), linear-gradient(90deg, rgba(255, 255, 0, 0.06), rgba(255, 255, 0, 0.02), rgba(255, 255, 0, 0.06));
            background-size: 100% 2px, 3px 100%;
            pointer-events: none;
        }
        #accept-mission, #hack-button {
            display: none;
            background-color: #ffff00;
            color: #000;
            border: none;
            padding: 10px 20px;
            font-family: inherit;
            font-size: 1em;
            cursor: pointer;
            margin-top: 20px;
        }
        #game-controls {
            display: grid;
            grid-template-columns: repeat(3, auto);
            grid-template-rows: repeat(3, auto);
            gap: 5px;
            margin-top: 10px;
            justify-content: start;
        }
        .control-btn {
            background-color: #ffff00;
            color: #000;
            border: none;
            width: 60px;
            height: 60px;
            font-family: inherit;
            font-size: 1.5em;
            cursor: pointer;
        }
        #up { grid-area: 1 / 2 / 2 / 3; }
        #left { grid-area: 2 / 1 / 3 / 2; }
        #right { grid-area: 2 / 3 / 3 / 4; }
        #down { grid-area: 3 / 2 / 4 / 3; }
        #game-info {
            font-size: 1em;
            margin-bottom: 5px;
        }
        #final-buttons {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }
        .final-btn {
            background-color: #ffff00;
            color: #000;
            border: none;
            padding: 10px 20px;
            font-family: inherit;
            font-size: 1em;
            cursor: pointer;
            text-decoration: none;
        }
        #cpu-meter {
            position: fixed;
            top: 10px;
            right: 10px;
            font-size: 0.8em;
        }
        @media (max-width: 600px) {
            #terminal {
                font-size: 14px;
                padding: 10px;
            }
            .control-btn {
                width: 50px;
                height: 50px;
                font-size: 1.2em;
            }
            #final-buttons {
                flex-direction: column;
                align-items: center;
            }
            .final-btn {
                margin-bottom: 10px;
            }
        }
        @font-face {
            font-family: 'VT323';
            src: url('https://fonts.gstatic.com/s/vt323/v17/pxiKyp0ihIEF2hsYHpT2dkNE.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
    </style>
</head>
<body>
    <div id="terminal">
        <div id="content"></div>
    </div>
    <div id="cpu-meter">CPU: 0%</div>
    <div id="crt-overlay"></div>

    <script>
        const terminal = document.getElementById('content');
        const acceptMissionBtn = document.createElement('button');
        acceptMissionBtn.id = 'accept-mission';
        acceptMissionBtn.textContent = 'Accept Mission';
        acceptMissionBtn.style.display = 'none';

        const hackButton = document.createElement('button');
        hackButton.id = 'hack-button';
        hackButton.textContent = 'Hack';
        hackButton.style.display = 'none';

        const cpuMeter = document.getElementById('cpu-meter');

        const headerText = `
BRNO BUNKER OPERATING SYSTEM
LOCATION 10-Z
BUILD VERSION 6.22
`;

        const missionText = `
----- TOP SECRET: MISSION BRIEFING -----

Target Name: Taj Pelc
Gender: Male
Ethnicity: Caucasian
Hair: No hair
Height: 168 cm
Weight: 70 kg
Nationality: Slovenian
Languages: English, German, Slovak

Skills Profile:
• Expert in Technical Leadership
• Specialized in Continuous Delivery
• Advanced Web Development Skills

Note: Target's expertise in these areas makes them a high-value asset for technological operations and potential recruitment.

Mission Objective: Engage target for intelligence gathering at the networking event. Approach with caution.

To access full profile, complete the following security check.`;

        const gameInstructions = `
HACKING GAME INSTRUCTIONS: Navigate through the firewall. Collect red data packet. Avoid firewall edges.
Good luck, agent.
`;

        let index = 0;
        let isTyping = true;

        function typeText() {
            if (index < headerText.length + missionText.length) {
                const chunkSize = Math.floor(Math.random() * 5) + 1;
                let chunk;
                if (index < headerText.length) {
                    chunk = headerText.substr(index, chunkSize);
                } else {
                    chunk = missionText.substr(index - headerText.length, chunkSize);
                }
                terminal.innerHTML += chunk;
                index += chunk.length;
                const delay = Math.random() * 50 + 5;
                setTimeout(typeText, delay);
                window.scrollTo(0, document.body.scrollHeight);
            } else {
                isTyping = false;
                terminal.innerHTML += '<span id="cursor">_</span>';
                terminal.appendChild(acceptMissionBtn);
                acceptMissionBtn.style.display = 'block';
            }
        }

        typeText();

        function updateCPUMeter() {
            const usage = Math.floor(Math.random() * 30) + 70; // Random value between 70-99
            cpuMeter.textContent = `CPU: ${usage}%`;
        }

        setInterval(updateCPUMeter, 1000); // Update CPU meter every second

        acceptMissionBtn.addEventListener('click', () => {
            acceptMissionBtn.style.display = 'none';
            terminal.innerHTML = headerText + gameInstructions;
            terminal.appendChild(hackButton);
            hackButton.style.display = 'block';
        });

        hackButton.addEventListener('click', () => {
            hackButton.style.display = 'none';
            initializeGame();
        });

        function initializeGame() {
            const gameContainer = document.createElement('div');
            gameContainer.id = 'game-container';

            const gameInfo = document.createElement('div');
            gameInfo.id = 'game-info';

            const canvas = document.createElement('canvas');
            canvas.id = 'game-canvas';
            canvas.width = 300;
            canvas.height = 200;

            const gameControls = document.createElement('div');
            gameControls.id = 'game-controls';
            
            const controlButtons = [
                { id: 'up', text: '↑' },
                { id: 'left', text: '←' },
                { id: 'right', text: '→' },
                { id: 'down', text: '↓' }
            ];

            controlButtons.forEach(button => {
                const btn = document.createElement('button');
                btn.id = button.id;
                btn.textContent = button.text;
                btn.classList.add('control-btn');
                gameControls.appendChild(btn);
            });

            gameContainer.appendChild(gameInfo);
            gameContainer.appendChild(canvas);
            gameContainer.appendChild(gameControls);

            terminal.appendChild(gameContainer);

            // Scroll to the bottom of the page after a short delay to ensure all elements are rendered
            setTimeout(() => {
                window.scrollTo({
                    top: document.body.scrollHeight,
                    behavior: 'smooth'
                });
            }, 100);

            const ctx = canvas.getContext('2d');

            let snake = [{x: 150, y: 100}, {x: 140, y: 100}, {x: 130, y: 100}];
            let food = {x: 0, y: 0};
            let dx = 10;
            let dy = 0;
            let gameLoop;
            let gameTime = 30;

            function placeFood() {
                food.x = Math.floor(Math.random() * 30) * 10;
                food.y = Math.floor(Math.random() * 20) * 10;
            }

            function drawSnakePart(snakePart) {
                ctx.fillStyle = '#ffff00';
                ctx.fillRect(snakePart.x, snakePart.y, 10, 10);
            }

            function drawSnake() {
                snake.forEach(drawSnakePart);
            }

            function drawFood() {
                ctx.fillStyle = '#ff0000';
                ctx.fillRect(food.x, food.y, 10, 10);
            }

            function moveSnake() {
                const head = {x: snake[0].x + dx, y: snake[0].y + dy};
                snake.unshift(head);
                snake.pop();
            }

            function clearCanvas() {
                ctx.fillStyle = '#000000';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
            }

            function checkCollision() {
                const head = snake[0];
                return head.x < 0 || head.x >= canvas.width || head.y < 0 || head.y >= canvas.height;
            }

            function checkFoodCollision() {
                const head = snake[0];
                return head.x === food.x && head.y === food.y;
            }

            function endGame(success) {
                clearInterval(gameLoop);
                clearInterval(countdownInterval);
                gameContainer.style.display = 'none';
                if (success) {
                    terminal.innerHTML = headerText + `
Hack successful.

Firewall bypassed.

Full access granted.

<div id="final-buttons">
    <a href="https://www.linkedin.com/in/tajpelc" target="_blank" class="final-btn">LinkedIn</a>
    <a href="https://www.pelc.cc/" target="_blank" class="final-btn">Website</a>
    <a href="https://daily.pelc.cc/" target="_blank" class="final-btn">Daily Newsletter</a>
</div>`;
                } else {
                    terminal.innerHTML += "\nHack unsuccessful. Try again.\n";
                    terminal.appendChild(hackButton);
                    hackButton.style.display = 'block';
                }
            }

            function updateGame() {
                if (checkCollision()) {
                    endGame(false);
                    return;
                }

                if (checkFoodCollision()) {
                    endGame(true);
                    return;
                }

                clearCanvas();
                moveSnake();
                drawSnake();
                drawFood();
            }

            placeFood();
            clearCanvas();
            drawSnake();
            drawFood();

            let startCountdown = 5;
            const startTimer = setInterval(() => {
                gameInfo.textContent = `Starting in: ${startCountdown}`;
                startCountdown--;
                if (startCountdown < 0) {
                    clearInterval(startTimer);
                    gameLoop = setInterval(updateGame, 100);
                    countdownInterval = setInterval(() => {
                        gameTime--;
                        gameInfo.textContent = `Time remaining: ${gameTime}s`;
                        if (gameTime <= 0) {
                            endGame(false);
                        }
                    }, 1000);
                }
            }, 1000);

            document.getElementById('up').addEventListener('click', () => { dx = 0; dy = -10; });
            document.getElementById('down').addEventListener('click', () => { dx = 0; dy = 10; });
            document.getElementById('left').addEventListener('click', () => { dx = -10; dy = 0; });
            document.getElementById('right').addEventListener('click', () => { dx = 10; dy = 0; });

            // Keyboard controls
            document.addEventListener('keydown', (e) => {
                switch(e.key) {
                    case 'ArrowUp': dx = 0; dy = -10; break;
                    case 'ArrowDown': dx = 0; dy = 10; break;
                    case 'ArrowLeft': dx = -10; dy = 0; break;
                    case 'ArrowRight': dx = 10; dy = 0; break;
                }
            });
        }
    </script>
</body>
</html>
